<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

  <changeSet author="CONNECT_APP" id="ITER_183_ALTER_COLUMN_SAG_ART_GROUP_TEXT_WSS_MARGINS_ARTICLE_GROUP">
    <sql>
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN SAG_ART_GROUP_TEXT NVARCHAR(MAX)
	</sql>
  </changeSet>
  
  <changeSet author="CONNECT_APP" id="ITER_183_ADD_CUSTOMER_ART_GROUP_TEXT_WSS_MARGINS_ARTICLE_GROUP">
    <sql>
		IF NOT EXISTS
		(
			SELECT COLUMN_NAME
			FROM INFORMATION_SCHEMA.COLUMNS
			WHERE TABLE_NAME = 'WSS_MARGINS_ARTICLE_GROUP'
				AND COLUMN_NAME = 'CUSTOMER_ART_GROUP_TEXT'
		)
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ADD CUSTOMER_ART_GROUP_TEXT NVARCHAR(255);
	</sql>
  </changeSet>
  
  <changeSet author="CONNECT_APP" id="ITER_183_ALTER_NVARCHAR_COLUMNS">
    <sql>
		ALTER TABLE WSS_DELIVERY_PROFILE ALTER COLUMN NAME NVARCHAR(255);
		ALTER TABLE WSS_DELIVERY_PROFILE ALTER COLUMN DESCRIPTION NVARCHAR(255);
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN CUSTOMER_ART_GROUP_TEXT NVARCHAR(255);
		ALTER TABLE WSS_TOUR ALTER COLUMN NAME NVARCHAR(255);
	</sql>
  </changeSet>
  
  <changeSet author="CONNECT_APP" id="ITER_183_ALTER_MARGIN_COLUMNS_WSS_MARGINS_ARTICLE_GROUP">
    <sql>
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN MARGIN_1 decimal(19,2);
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN MARGIN_2 decimal(19,2);
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN MARGIN_3 decimal(19,2);
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN MARGIN_4 decimal(19,2);
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN MARGIN_5 decimal(19,2);
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN MARGIN_6 decimal(19,2);
		ALTER TABLE WSS_MARGINS_ARTICLE_GROUP ALTER COLUMN MARGIN_7 decimal(19,2);
	</sql>
  </changeSet>

  <changeSet author="CONNECT_APP" id="ITER_183_TABLE_LICENSE_SETTING_ADD_PRODUCT_TEXT">
    <sql>
      ALTER TABLE dbo.LICENSE_SETTINGS ADD PRODUCT_TEXT nvarchar(255) NULL;
    </sql>
  </changeSet>

  <changeSet author="CONNECT_APP" id="ITER_183_TABLE_LICENSE_SETTING_DROP_PRODUCT_PARAMETERS">
    <sql>
      ALTER TABLE dbo.LICENSE_SETTINGS DROP COLUMN PRODUCT_PARAMETERS;
    </sql>
  </changeSet>

</databaseChangeLog>
