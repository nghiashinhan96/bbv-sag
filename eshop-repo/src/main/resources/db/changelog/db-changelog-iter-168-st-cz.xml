<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

  <changeSet author="CONNECT_APP" id="ITER_168_TABLE_FEEDBACK_ADD_COLUMN_SORT_CZ">
    <sql>
      ALTER TABLE FEEDBACK_TOPIC ADD SORT int NULL;
	</sql>
  </changeSet>

  <changeSet author="CONNECT_APP" id="ITER_168_TABLE_FEEDBACK_TOPIC_ADD_DATA">
    <sql>
      -- DELETE FROM FEEDBACK_TOPIC
      -- Reseed
      -- DBCC CHECKIDENT ('FEEDBACK_TOPIC', RESEED, 0)
	  -- CZ just need topic related to PRICES #1893
      INSERT INTO FEEDBACK_TOPIC(TOPIC_CODE,	DESCRIPTION,	SORT) VALUES ('PRICING_CARPARTS','Preise Personenwagen (Carparts)',2)
      INSERT INTO FEEDBACK_TOPIC(TOPIC_CODE,	DESCRIPTION,	SORT) VALUES ('PRICING_WHEELS','Preise Reifen (Wheels)',1)
      INSERT INTO FEEDBACK_TOPIC(TOPIC_CODE,	DESCRIPTION,	SORT) VALUES ('PRICING_MATIK','Preise Nutzfahrzeuge (Matik)',3)
      INSERT INTO FEEDBACK_TOPIC(TOPIC_CODE,	DESCRIPTION,	SORT) VALUES ('PRICING_WSP','Preise Fahrzeug unabh√§ngige Artikel (WSP)',4)
      INSERT INTO FEEDBACK_TOPIC(TOPIC_CODE,	DESCRIPTION,	SORT) VALUES ('PRICING_IS','Preise Workshop Equipment (IS)',5)
	</sql>
  </changeSet>

  <changeSet author="CONNECT_APP" id="ITER_168_TABLE_FEEDBACK_STATUS_ADD_DATA">
    <sql>
      -- DELETE FROM FEEDBACK_STATUS
      -- Reseed
      -- DBCC CHECKIDENT ('FEEDBACK_STATUS', RESEED, 0)
      INSERT INTO FEEDBACK_STATUS(STATUS_CODE,	DESCRIPTION) VALUES ('NOT_STARTED', 'Not Started')
      INSERT INTO FEEDBACK_STATUS(STATUS_CODE,	DESCRIPTION) VALUES ('ASSIGNED', 'Assigned')
      INSERT INTO FEEDBACK_STATUS(STATUS_CODE,	DESCRIPTION) VALUES ('IN_PROGRESS', 'In Progress')
      INSERT INTO FEEDBACK_STATUS(STATUS_CODE,	DESCRIPTION) VALUES ('CROSS_CHECKING', 'Cross Checking')
      INSERT INTO FEEDBACK_STATUS(STATUS_CODE,	DESCRIPTION) VALUES ('DONE', 'Done')
	</sql>
  </changeSet>

  <changeSet author="CONNECT_APP" id="ITER_168_TABLE_FEEDBACK_DEPARTMENT_ADD_DATA">
    <sql>
      -- DELETE FROM FEEDBACK_DEPARTMENT
      -- Reseed
      -- DBCC CHECKIDENT ('FEEDBACK_DEPARTMENT', RESEED, 0)
      INSERT INTO FEEDBACK_DEPARTMENT(DEPARTMENT_CODE,	DESCRIPTION) VALUES('DATA_MANAGEMENT', 'Pricing - Orders, Availability - Missing/wrong data')
      INSERT INTO FEEDBACK_DEPARTMENT(DEPARTMENT_CODE,	DESCRIPTION) VALUES('CONNECT_SERVICE_DESK', 'Other Connect feedback topics')
	</sql>
  </changeSet>


  <changeSet author="CONNECT_APP" id="ITER_168_TABLE_FEEDBACK_DEPARTMENT_CONTACT_ADD_DATA">
    <sql>
      -- DELETE FROM FEEDBACK_DEPARTMENT_CONTACT
      -- Reseed
      -- DBCC CHECKIDENT ('FEEDBACK_DEPARTMENT_CONTACT', RESEED, 0)
      INSERT INTO FEEDBACK_DEPARTMENT_CONTACT(DEPARTMENT_ID,	TYPE, VALUE) VALUES(1,'EMAIL', 'chau.le@bbv.vn')
      INSERT INTO FEEDBACK_DEPARTMENT_CONTACT(DEPARTMENT_ID,	TYPE, VALUE) VALUES(2,'EMAIL', 'chau.le@bbv.vn')
	</sql>
  </changeSet>

  <changeSet author="CONNECT_APP" id="ITER_168_TABLE_FEEDBACK_TOPIC_DEPARTMENT_ADD_DATA">
    <sql>
      -- DELETE FROM FEEDBACK_TOPIC_DEPARTMENT
      -- Reseed
      -- DBCC CHECKIDENT ('FEEDBACK_TOPIC_DEPARTMENT', RESEED, 0)
      -- CZ just need topic related to PRICES #1893
      INSERT INTO FEEDBACK_TOPIC_DEPARTMENT(TOPIC_ID,	DEPARTMENT_ID) VALUES(1,1)
      INSERT INTO FEEDBACK_TOPIC_DEPARTMENT(TOPIC_ID,	DEPARTMENT_ID) VALUES(2,1)
      INSERT INTO FEEDBACK_TOPIC_DEPARTMENT(TOPIC_ID,	DEPARTMENT_ID) VALUES(3,1)
      INSERT INTO FEEDBACK_TOPIC_DEPARTMENT(TOPIC_ID,	DEPARTMENT_ID) VALUES(4,1)
      INSERT INTO FEEDBACK_TOPIC_DEPARTMENT(TOPIC_ID,	DEPARTMENT_ID) VALUES(5,1)
	</sql>
  </changeSet>
  
  <changeSet author="CONNECT_APP" id="ITER_168_TABLE_SUPPORTED_AFFILIATE_ADD_NO_REPLY_EMAIL">
    <sql>
     	UPDATE dbo.SUPPORTED_AFFILIATE SET NO_REPLY_EMAIL = 'noReply@sag-ag.ch' WHERE SHORT_NAME = 'st-cz';
	</sql>
  </changeSet>
  
  <changeSet author="CONNECT_APP" id="ITER_168_ADD_DEFAULT_PRICE_DISPLAY_SETTING_CZ">
    <sql>
		DECLARE @price_display_id INT
		INSERT INTO dbo.PRICE_DISPLAY_TYPE ([TYPE], DESC_CODE, DESCRIPTION) VALUES('UVPE_OEP_GROSS', 'UVPE_OEP_GROSS', 'UVPE -> OEP -> Gross')
		SET @price_display_id = SCOPE_IDENTITY()
		UPDATE dbo.CUSTOMER_SETTINGS SET PRICE_DISPLAY_ID = @price_display_id;
	</sql>
  </changeSet>
  
</databaseChangeLog>