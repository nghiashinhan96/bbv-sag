<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

  <changeSet author="CONNECT_APP" id="ITER_179_INIT_DEFAULT_ORG_COLLECTION_SETTINGS">
        <sql>
			DECLARE @sagId int = (SELECT ID FROM dbo.ORGANISATION_COLLECTION WHERE SHORTNAME='sag')
			
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'logo_image', 'https://s3.exellio.de/connect_media/collections/logo-tech.png')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'default_logo', '../images/logo/logo-tech.png')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'background_image', '../images/background/bg-tech.jpg')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'default_background', '../images/background/bg-tech.jpg')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'description', 'Default-Settings')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'theme_color_1', '#e3000b')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'theme_color_2', '#e3000b')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'font_color_1', 'black')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'font_color_2', 'white')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'back_to_top_arrow_color', '#e3000b')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'footer_color', 'black')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'footer_text_color', 'white')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'button_color', '#e3000b')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'button_text_color', 'black')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'slide_show_paging_color', 'blue')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'slide_show_paging_color_inactive', 'blue')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'button_cart_color', '#f6a60c')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'section_arrow_hover_color', 'darkgray')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'availability_status_color_1', '#f6a60c')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'availability_status_color_2', '#20bc5d')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'availability_status_color_3', 'red')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'information_icon_color', '#787878')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'vin_notification_color', '#339900')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'carousel_background', '../images/carousel-arrows-technomag.gif')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'ico_cart', '../images/ico-cart-technomag.png')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'login_image', '../images/login-technomag.jpg')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'pre_loader', '../images/logo/TS-Loader_small.gif')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'default_email', 'noReply@sag-ag.ch')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'google_analytics_tracking_code', 'UA-186388866-1')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'show_tyres_discount', 'false')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'show_tyres_gross_price_header', 'true')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'title', 'SAG1')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'title', 'SAG')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'send_feedback_notification_email', 'true')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'setting_locale', 'sr_RS')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'eh_default_email', 'noReply@sag-ag.ch')
			INSERT INTO dbo.ORG_COLLECTION_SETTINGS (COLLECTION_ID, SETTING_KEY, SETTING_VALUE) VALUES(@sagId, 'sso_case_one', 'true');

        </sql>
    </changeSet>
    
    <changeSet author="CONNECT_APP" id="ITER_179_TABLE_FEEDBACK_TOPIC_ADD_DATA_SB">
    <sql>
		DELETE FROM dbo.FEEDBACK
		DELETE FROM dbo.FEEDBACK_TOPIC
		DELETE FROM dbo.FEEDBACK_DEPARTMENT_CONTACT
		DELETE FROM dbo.FEEDBACK_DEPARTMENT
		DELETE FROM dbo.FEEDBACK_TOPIC_DEPARTMENT
	
		INSERT INTO dbo.FEEDBACK_TOPIC (TOPIC_CODE, DESCRIPTION, SORT) VALUES('PRICING', 'Pricing', 1)
		INSERT INTO dbo.FEEDBACK_TOPIC (TOPIC_CODE, DESCRIPTION, SORT) VALUES('ORDERS_AVAILABILITY', 'Orders, Availability', 2)
		INSERT INTO dbo.FEEDBACK_TOPIC (TOPIC_CODE, DESCRIPTION, SORT) VALUES('EASE_OF_USE', 'Ease of use', 3)
		INSERT INTO dbo.FEEDBACK_TOPIC (TOPIC_CODE, DESCRIPTION, SORT) VALUES('MISSING_WRONG_DATA', 'Missing/wrong data (vehicle, part, range of goods etc.)', 4)
		INSERT INTO dbo.FEEDBACK_TOPIC (TOPIC_CODE, DESCRIPTION, SORT) VALUES('LICENSING', 'Licensing (HaynesPro, VIN etc.)', 5)
		INSERT INTO dbo.FEEDBACK_TOPIC (TOPIC_CODE, DESCRIPTION, SORT) VALUES('SYSTEM_BROWSER_INTERFACES', 'System, Browser, Interfaces', 6)
		INSERT INTO dbo.FEEDBACK_TOPIC (TOPIC_CODE, DESCRIPTION, SORT) VALUES('PROFILE_SETTINGS', 'Profile, Settings', 7)
		INSERT INTO dbo.FEEDBACK_TOPIC (TOPIC_CODE, DESCRIPTION, SORT) VALUES('OTHER', 'Other...', 8)
		
		INSERT INTO dbo.FEEDBACK_DEPARTMENT (DEPARTMENT_CODE , DESCRIPTION) VALUES('DATA_MANAGEMENT', 'Category Management AT')
		INSERT INTO dbo.FEEDBACK_DEPARTMENT (DEPARTMENT_CODE , DESCRIPTION) VALUES('CONNECT_SERVICE_DESK', 'Data Connect Team')
		
		DECLARE @dataManagementDept INT = (SELECT ID FROM FEEDBACK_DEPARTMENT WHERE DEPARTMENT_CODE='DATA_MANAGEMENT')
		DECLARE @connectServiceDeskDept INT = (SELECT ID FROM FEEDBACK_DEPARTMENT WHERE DEPARTMENT_CODE='CONNECT_SERVICE_DESK')
		
		DECLARE @topicPricing INT = (SELECT ID FROM FEEDBACK_TOPIC WHERE TOPIC_CODE='PRICING')
		DECLARE @topicOrderAvai INT = (SELECT ID FROM FEEDBACK_TOPIC WHERE TOPIC_CODE='ORDERS_AVAILABILITY')
		DECLARE @topicEaseOfUse INT = (SELECT ID FROM FEEDBACK_TOPIC WHERE TOPIC_CODE='EASE_OF_USE')
		DECLARE @topicDataIssue INT = (SELECT ID FROM FEEDBACK_TOPIC WHERE TOPIC_CODE='MISSING_WRONG_DATA')
		DECLARE @topicLicense INT = (SELECT ID FROM FEEDBACK_TOPIC WHERE TOPIC_CODE='LICENSING')
		DECLARE @topicSystemBrowserInterface INT = (SELECT ID FROM FEEDBACK_TOPIC WHERE TOPIC_CODE='SYSTEM_BROWSER_INTERFACES')
		DECLARE @topicProfileSetting INT = (SELECT ID FROM FEEDBACK_TOPIC WHERE TOPIC_CODE='PROFILE_SETTINGS')
		DECLARE @topicOther INT = (SELECT ID FROM FEEDBACK_TOPIC WHERE TOPIC_CODE='OTHER')
		
		INSERT INTO dbo.FEEDBACK_TOPIC_DEPARTMENT (TOPIC_ID, DEPARTMENT_ID) VALUES(@topicPricing, @dataManagementDept)
		INSERT INTO dbo.FEEDBACK_TOPIC_DEPARTMENT (TOPIC_ID, DEPARTMENT_ID) VALUES(@topicOrderAvai, @dataManagementDept)
		INSERT INTO dbo.FEEDBACK_TOPIC_DEPARTMENT (TOPIC_ID, DEPARTMENT_ID) VALUES(@topicDataIssue, @connectServiceDeskDept)
		INSERT INTO dbo.FEEDBACK_TOPIC_DEPARTMENT (TOPIC_ID, DEPARTMENT_ID) VALUES(@topicEaseOfUse, @connectServiceDeskDept)
		INSERT INTO dbo.FEEDBACK_TOPIC_DEPARTMENT (TOPIC_ID, DEPARTMENT_ID) VALUES(@topicLicense, @connectServiceDeskDept)
		INSERT INTO dbo.FEEDBACK_TOPIC_DEPARTMENT (TOPIC_ID, DEPARTMENT_ID) VALUES(@topicSystemBrowserInterface, @connectServiceDeskDept)
		INSERT INTO dbo.FEEDBACK_TOPIC_DEPARTMENT (TOPIC_ID, DEPARTMENT_ID) VALUES(@topicProfileSetting, @connectServiceDeskDept)
		INSERT INTO dbo.FEEDBACK_TOPIC_DEPARTMENT (TOPIC_ID, DEPARTMENT_ID) VALUES(@topicOther, @connectServiceDeskDept)

		--Replace this with "EmailFrom for PROD" if running in PROD env (waiting for PO)
		INSERT INTO dbo.FEEDBACK_DEPARTMENT_CONTACT (DEPARTMENT_ID, [TYPE], VALUE) VALUES(@dataManagementDept, 'EMAIL', 'chau.le@bbv.vn')
		INSERT INTO dbo.FEEDBACK_DEPARTMENT_CONTACT (DEPARTMENT_ID, [TYPE], VALUE) VALUES(@connectServiceDeskDept, 'EMAIL', 'chau.le@bbv.vn');
		
	</sql>
  </changeSet>
  
  <changeSet author="CONNECT_APP" id="ITER_179_ADD_NO_REPLY_EMAIL_FOR_AFFILIATE_SB">
    <sql>
		UPDATE dbo.SUPPORTED_AFFILIATE set NO_REPLY_EMAIL ='noReply@sag-ag.ch' WHERE SHORT_NAME ='wt-sb'
	</sql>
  </changeSet>

</databaseChangeLog>
